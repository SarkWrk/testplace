-- Compiled with roblox-ts v2.3.0-dev-ff69514
local TS = _G[script]
local _vide = TS.import(script, TS.getModule(script, "@rbxts", "vide").src)
local cleanup = _vide.cleanup
local effect = _vide.effect
local source = _vide.source
local useCamera = TS.import(script, script.Parent, "use-camera").useCamera
local lockSource = TS.import(script, script.Parent, "utils").lockSource
local function useViewport(listener)
	local camera = useCamera()
	local viewport = source(camera().ViewportSize)
	effect(function()
		local _camera = camera()
		local connection = _camera:GetPropertyChangedSignal("ViewportSize"):Connect(function()
			viewport(_camera.ViewportSize)
			local _result = listener
			if _result ~= nil then
				_result(_camera.ViewportSize)
			end
		end)
		viewport(_camera.ViewportSize)
		local _result = listener
		if _result ~= nil then
			_result(_camera.ViewportSize)
		end
		cleanup(function()
			return connection:Disconnect()
		end)
	end)
	return lockSource(viewport)
end
return {
	useViewport = useViewport,
}
